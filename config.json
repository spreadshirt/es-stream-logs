{
  "default_endpoint": "dc1",
  "endpoints": {
    "dc3": {"url": "https://elasticsearch-dc3.example.com:443"},
    "dc1": {"url": "https://elasticsearch-dc1.example.com:443"},
    "dc2": {"url": "https://elasticsearch-dc2.example.com:443"}
  },
  "indices": [
    "application-*",
    "cdn-*",
    "dc-routing-*",
    "kubernetes-*",
    "syslog-*",
    "*"
  ],
  "field_format": {
    "tracing.trace_id": "<a href=\"https://tracing.example.com/?traceId={tracing.trace_id}&dc={dc}\">{tracing.trace_id}</a> <a class=\"trace-logs\" title=\"Logs for trace_id {tracing.trace_id}\"href=\"/logs?dc={dc}&index={index}&from=now-14d&tracing.trace_id={tracing.trace_id}\">â€¦</a>",
    "request.url": "<a href=\"{request.url}\">{request.url}</a>"
  },
  "default_fields": [
    {
      "match_params": {
        "logger_name": "TracingServletFilter"
      },
      "fields": ["@timestamp", "hostname", "request.method", "request.path", "status.code", "request.headers.user-agent", "timings.duration", "tracing.trace_id"]
    },
    {
      "match_params": {
        "index": "application-*"
      },
      "fields": ["@timestamp", "hostname", "level", "message", "thread_name", "stack_trace", "tracing.trace_id"]
    },
    {
      "match_params": {
        "index": "cdn-*"
      },
      "fields": ["@timestamp", "request.method", "request.host.subdomain", "request.path", "status.code", "user_agent.value", "tracing.trace_id"]
    },
    {
      "match_params": {
        "index": "syslog-*"
      },
      "fields": ["@timestamp", "logsource", "facility_label", "severity_label", "program", "message"]
    },

    {
      "match_params": {
        "index": ""
      },
      "fields": ["@timestamp", "type", "message", "tracing.trace_id"]
    }
  ],
  "queries": [
    "/logs?aggregation_terms=level",
    "/logs?application_name=api&level=ERROR,WARN&aggregation_terms=level",
    "/logs?aggregation_terms=status.code&logger_name=TracingServletFilter&application_name=api",
    "/logs?aggregation_terms=status.code&percentiles_terms=timings.duration&logger_name=TracingServletFilter&application_name=api",
    "/logs?index=cdn-*&aggregation_terms=status.code",
    "/logs?index=cdn-*&status.category=5xx&from=now-1d&aggregation_terms=status.code",
    "/logs?timings.duration=>5000&from=now-1h&fields=,timings.duration",
    "/aggregation.svg?index=cdn-*&status.category=5xx&from=now-1d&aggregation_terms=status.code"
    "/raw?index=cdn-*&status.category=5xx&from=now-1d&aggregation_terms=status.code"
  ]
}
